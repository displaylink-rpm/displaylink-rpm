diff -urN evdi-a/ci/build_against_kernel evdi-b/ci/build_against_kernel
--- evdi-a/ci/build_against_kernel	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/ci/build_against_kernel	2026-02-09 03:40:17.000000000 -0500
@@ -237,7 +237,7 @@
 
   local src_dir
   local KTAG=v${KVER}
-  local extra_cflags="-DCONFIG_FB"
+  local extra_cflags="-DCONFIG_FB -DCONFIG_DRM_TTM_HELPER"
   if [ "${KVER}" == "master" ]; then
     KTAG="origin/master"
   else
diff -urN evdi-a/ci/deb_config evdi-b/ci/deb_config
--- evdi-a/ci/deb_config	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/ci/deb_config	2026-02-09 03:40:17.000000000 -0500
@@ -8,7 +8,7 @@
 evdi_maintainer='Synaptics Technical Support <technical-enquiries@synaptics.com>'
 
 # shellcheck disable=SC2034
-evdi_version='1.14.11'
+evdi_version='1.14.14'
 
 # shellcheck disable=SC2034
 evdi_description="Extensible Virtual Display Interface (EVDI) is a LinuxÂ® kernel module that enables management of multiple screens.
diff -urN evdi-a/.clang-format evdi-b/.clang-format
--- evdi-a/.clang-format	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/.clang-format	1969-12-31 19:00:00.000000000 -0500
@@ -1,689 +0,0 @@
-# SPDX-License-Identifier: GPL-2.0
-#
-# clang-format configuration file. Intended for clang-format >= 11.
-#
-# For more information, see:
-#
-#   Documentation/process/clang-format.rst
-#   https://clang.llvm.org/docs/ClangFormat.html
-#   https://clang.llvm.org/docs/ClangFormatStyleOptions.html
-#
----
-AccessModifierOffset: -4
-AlignAfterOpenBracket: Align
-AlignConsecutiveAssignments: false
-AlignConsecutiveDeclarations: false
-AlignEscapedNewlines: Left
-AlignOperands: true
-AlignTrailingComments: false
-AllowAllParametersOfDeclarationOnNextLine: false
-AllowShortBlocksOnASingleLine: false
-AllowShortCaseLabelsOnASingleLine: false
-AllowShortFunctionsOnASingleLine: None
-AllowShortIfStatementsOnASingleLine: false
-AllowShortLoopsOnASingleLine: false
-AlwaysBreakAfterDefinitionReturnType: None
-AlwaysBreakAfterReturnType: None
-AlwaysBreakBeforeMultilineStrings: false
-AlwaysBreakTemplateDeclarations: false
-BinPackArguments: true
-BinPackParameters: true
-BraceWrapping:
-  AfterClass: false
-  AfterControlStatement: false
-  AfterEnum: false
-  AfterFunction: true
-  AfterNamespace: true
-  AfterObjCDeclaration: false
-  AfterStruct: false
-  AfterUnion: false
-  AfterExternBlock: false
-  BeforeCatch: false
-  BeforeElse: false
-  IndentBraces: false
-  SplitEmptyFunction: true
-  SplitEmptyRecord: true
-  SplitEmptyNamespace: true
-BreakBeforeBinaryOperators: None
-BreakBeforeBraces: Custom
-BreakBeforeInheritanceComma: false
-BreakBeforeTernaryOperators: false
-BreakConstructorInitializersBeforeComma: false
-BreakConstructorInitializers: BeforeComma
-BreakAfterJavaFieldAnnotations: false
-BreakStringLiterals: false
-ColumnLimit: 80
-CommentPragmas: '^ IWYU pragma:'
-CompactNamespaces: false
-ConstructorInitializerAllOnOneLineOrOnePerLine: false
-ConstructorInitializerIndentWidth: 8
-ContinuationIndentWidth: 8
-Cpp11BracedListStyle: false
-DerivePointerAlignment: false
-DisableFormat: false
-ExperimentalAutoDetectBinPacking: false
-FixNamespaceComments: false
-
-# Taken from:
-#   git grep -h '^#define [^[:space:]]*for_each[^[:space:]]*(' include/ tools/ \
-#   | sed "s,^#define \([^[:space:]]*for_each[^[:space:]]*\)(.*$,  - '\1'," \
-#   | LC_ALL=C sort -u
-ForEachMacros:
-  - '__ata_qc_for_each'
-  - '__bio_for_each_bvec'
-  - '__bio_for_each_segment'
-  - '__evlist__for_each_entry'
-  - '__evlist__for_each_entry_continue'
-  - '__evlist__for_each_entry_from'
-  - '__evlist__for_each_entry_reverse'
-  - '__evlist__for_each_entry_safe'
-  - '__for_each_mem_range'
-  - '__for_each_mem_range_rev'
-  - '__for_each_thread'
-  - '__hlist_for_each_rcu'
-  - '__map__for_each_symbol_by_name'
-  - '__perf_evlist__for_each_entry'
-  - '__perf_evlist__for_each_entry_reverse'
-  - '__perf_evlist__for_each_entry_safe'
-  - '__rq_for_each_bio'
-  - '__shost_for_each_device'
-  - 'apei_estatus_for_each_section'
-  - 'ata_for_each_dev'
-  - 'ata_for_each_link'
-  - 'ata_qc_for_each'
-  - 'ata_qc_for_each_raw'
-  - 'ata_qc_for_each_with_internal'
-  - 'ax25_for_each'
-  - 'ax25_uid_for_each'
-  - 'bio_for_each_bvec'
-  - 'bio_for_each_bvec_all'
-  - 'bio_for_each_folio_all'
-  - 'bio_for_each_integrity_vec'
-  - 'bio_for_each_segment'
-  - 'bio_for_each_segment_all'
-  - 'bio_list_for_each'
-  - 'bip_for_each_vec'
-  - 'bond_for_each_slave'
-  - 'bond_for_each_slave_rcu'
-  - 'bpf__perf_for_each_map'
-  - 'bpf__perf_for_each_map_named'
-  - 'bpf_for_each_spilled_reg'
-  - 'bpf_object__for_each_map'
-  - 'bpf_object__for_each_program'
-  - 'bpf_object__for_each_safe'
-  - 'bpf_perf_object__for_each'
-  - 'btree_for_each_safe128'
-  - 'btree_for_each_safe32'
-  - 'btree_for_each_safe64'
-  - 'btree_for_each_safel'
-  - 'card_for_each_dev'
-  - 'cgroup_taskset_for_each'
-  - 'cgroup_taskset_for_each_leader'
-  - 'cpufreq_for_each_efficient_entry_idx'
-  - 'cpufreq_for_each_entry'
-  - 'cpufreq_for_each_entry_idx'
-  - 'cpufreq_for_each_valid_entry'
-  - 'cpufreq_for_each_valid_entry_idx'
-  - 'css_for_each_child'
-  - 'css_for_each_descendant_post'
-  - 'css_for_each_descendant_pre'
-  - 'damon_for_each_region'
-  - 'damon_for_each_region_safe'
-  - 'damon_for_each_scheme'
-  - 'damon_for_each_scheme_safe'
-  - 'damon_for_each_target'
-  - 'damon_for_each_target_safe'
-  - 'data__for_each_file'
-  - 'data__for_each_file_new'
-  - 'data__for_each_file_start'
-  - 'device_for_each_child_node'
-  - 'displayid_iter_for_each'
-  - 'dma_fence_array_for_each'
-  - 'dma_fence_chain_for_each'
-  - 'dma_fence_unwrap_for_each'
-  - 'dma_resv_for_each_fence'
-  - 'dma_resv_for_each_fence_unlocked'
-  - 'do_for_each_ftrace_op'
-  - 'drm_atomic_crtc_for_each_plane'
-  - 'drm_atomic_crtc_state_for_each_plane'
-  - 'drm_atomic_crtc_state_for_each_plane_state'
-  - 'drm_atomic_for_each_plane_damage'
-  - 'drm_client_for_each_connector_iter'
-  - 'drm_client_for_each_modeset'
-  - 'drm_connector_for_each_possible_encoder'
-  - 'drm_for_each_bridge_in_chain'
-  - 'drm_for_each_connector_iter'
-  - 'drm_for_each_crtc'
-  - 'drm_for_each_crtc_reverse'
-  - 'drm_for_each_encoder'
-  - 'drm_for_each_encoder_mask'
-  - 'drm_for_each_fb'
-  - 'drm_for_each_legacy_plane'
-  - 'drm_for_each_plane'
-  - 'drm_for_each_plane_mask'
-  - 'drm_for_each_privobj'
-  - 'drm_mm_for_each_hole'
-  - 'drm_mm_for_each_node'
-  - 'drm_mm_for_each_node_in_range'
-  - 'drm_mm_for_each_node_safe'
-  - 'dsa_switch_for_each_available_port'
-  - 'dsa_switch_for_each_cpu_port'
-  - 'dsa_switch_for_each_port'
-  - 'dsa_switch_for_each_port_continue_reverse'
-  - 'dsa_switch_for_each_port_safe'
-  - 'dsa_switch_for_each_user_port'
-  - 'dsa_tree_for_each_user_port'
-  - 'dso__for_each_symbol'
-  - 'dsos__for_each_with_build_id'
-  - 'elf_hash_for_each_possible'
-  - 'elf_section__for_each_rel'
-  - 'elf_section__for_each_rela'
-  - 'elf_symtab__for_each_symbol'
-  - 'evlist__for_each_cpu'
-  - 'evlist__for_each_entry'
-  - 'evlist__for_each_entry_continue'
-  - 'evlist__for_each_entry_from'
-  - 'evlist__for_each_entry_reverse'
-  - 'evlist__for_each_entry_safe'
-  - 'flow_action_for_each'
-  - 'for_each_acpi_dev_match'
-  - 'for_each_active_dev_scope'
-  - 'for_each_active_drhd_unit'
-  - 'for_each_active_iommu'
-  - 'for_each_active_route'
-  - 'for_each_aggr_pgid'
-  - 'for_each_available_child_of_node'
-  - 'for_each_bench'
-  - 'for_each_bio'
-  - 'for_each_board_func_rsrc'
-  - 'for_each_btf_ext_rec'
-  - 'for_each_btf_ext_sec'
-  - 'for_each_bvec'
-  - 'for_each_card_auxs'
-  - 'for_each_card_auxs_safe'
-  - 'for_each_card_components'
-  - 'for_each_card_dapms'
-  - 'for_each_card_pre_auxs'
-  - 'for_each_card_prelinks'
-  - 'for_each_card_rtds'
-  - 'for_each_card_rtds_safe'
-  - 'for_each_card_widgets'
-  - 'for_each_card_widgets_safe'
-  - 'for_each_cgroup_storage_type'
-  - 'for_each_child_of_node'
-  - 'for_each_clear_bit'
-  - 'for_each_clear_bit_from'
-  - 'for_each_clear_bitrange'
-  - 'for_each_clear_bitrange_from'
-  - 'for_each_cmd'
-  - 'for_each_cmsghdr'
-  - 'for_each_collection'
-  - 'for_each_comp_order'
-  - 'for_each_compatible_node'
-  - 'for_each_component_dais'
-  - 'for_each_component_dais_safe'
-  - 'for_each_console'
-  - 'for_each_console_srcu'
-  - 'for_each_cpu'
-  - 'for_each_cpu_and'
-  - 'for_each_cpu_wrap'
-  - 'for_each_dapm_widgets'
-  - 'for_each_dedup_cand'
-  - 'for_each_dev_addr'
-  - 'for_each_dev_scope'
-  - 'for_each_dma_cap_mask'
-  - 'for_each_dpcm_be'
-  - 'for_each_dpcm_be_rollback'
-  - 'for_each_dpcm_be_safe'
-  - 'for_each_dpcm_fe'
-  - 'for_each_drhd_unit'
-  - 'for_each_dss_dev'
-  - 'for_each_efi_memory_desc'
-  - 'for_each_efi_memory_desc_in_map'
-  - 'for_each_element'
-  - 'for_each_element_extid'
-  - 'for_each_element_id'
-  - 'for_each_endpoint_of_node'
-  - 'for_each_event'
-  - 'for_each_event_tps'
-  - 'for_each_evictable_lru'
-  - 'for_each_fib6_node_rt_rcu'
-  - 'for_each_fib6_walker_rt'
-  - 'for_each_free_mem_pfn_range_in_zone'
-  - 'for_each_free_mem_pfn_range_in_zone_from'
-  - 'for_each_free_mem_range'
-  - 'for_each_free_mem_range_reverse'
-  - 'for_each_func_rsrc'
-  - 'for_each_group_device'
-  - 'for_each_group_evsel'
-  - 'for_each_group_member'
-  - 'for_each_hstate'
-  - 'for_each_if'
-  - 'for_each_inject_fn'
-  - 'for_each_insn'
-  - 'for_each_insn_prefix'
-  - 'for_each_intid'
-  - 'for_each_iommu'
-  - 'for_each_ip_tunnel_rcu'
-  - 'for_each_irq_nr'
-  - 'for_each_lang'
-  - 'for_each_link_codecs'
-  - 'for_each_link_cpus'
-  - 'for_each_link_platforms'
-  - 'for_each_lru'
-  - 'for_each_matching_node'
-  - 'for_each_matching_node_and_match'
-  - 'for_each_mem_pfn_range'
-  - 'for_each_mem_range'
-  - 'for_each_mem_range_rev'
-  - 'for_each_mem_region'
-  - 'for_each_member'
-  - 'for_each_memory'
-  - 'for_each_migratetype_order'
-  - 'for_each_missing_reg'
-  - 'for_each_net'
-  - 'for_each_net_continue_reverse'
-  - 'for_each_net_rcu'
-  - 'for_each_netdev'
-  - 'for_each_netdev_continue'
-  - 'for_each_netdev_continue_rcu'
-  - 'for_each_netdev_continue_reverse'
-  - 'for_each_netdev_feature'
-  - 'for_each_netdev_in_bond_rcu'
-  - 'for_each_netdev_rcu'
-  - 'for_each_netdev_reverse'
-  - 'for_each_netdev_safe'
-  - 'for_each_new_connector_in_state'
-  - 'for_each_new_crtc_in_state'
-  - 'for_each_new_mst_mgr_in_state'
-  - 'for_each_new_plane_in_state'
-  - 'for_each_new_plane_in_state_reverse'
-  - 'for_each_new_private_obj_in_state'
-  - 'for_each_new_reg'
-  - 'for_each_node'
-  - 'for_each_node_by_name'
-  - 'for_each_node_by_type'
-  - 'for_each_node_mask'
-  - 'for_each_node_state'
-  - 'for_each_node_with_cpus'
-  - 'for_each_node_with_property'
-  - 'for_each_nonreserved_multicast_dest_pgid'
-  - 'for_each_of_allnodes'
-  - 'for_each_of_allnodes_from'
-  - 'for_each_of_cpu_node'
-  - 'for_each_of_pci_range'
-  - 'for_each_old_connector_in_state'
-  - 'for_each_old_crtc_in_state'
-  - 'for_each_old_mst_mgr_in_state'
-  - 'for_each_old_plane_in_state'
-  - 'for_each_old_private_obj_in_state'
-  - 'for_each_oldnew_connector_in_state'
-  - 'for_each_oldnew_crtc_in_state'
-  - 'for_each_oldnew_mst_mgr_in_state'
-  - 'for_each_oldnew_plane_in_state'
-  - 'for_each_oldnew_plane_in_state_reverse'
-  - 'for_each_oldnew_private_obj_in_state'
-  - 'for_each_online_cpu'
-  - 'for_each_online_node'
-  - 'for_each_online_pgdat'
-  - 'for_each_path'
-  - 'for_each_pci_bridge'
-  - 'for_each_pci_dev'
-  - 'for_each_pcm_streams'
-  - 'for_each_physmem_range'
-  - 'for_each_populated_zone'
-  - 'for_each_possible_cpu'
-  - 'for_each_present_cpu'
-  - 'for_each_prime_number'
-  - 'for_each_prime_number_from'
-  - 'for_each_probe_cache_entry'
-  - 'for_each_process'
-  - 'for_each_process_thread'
-  - 'for_each_prop_codec_conf'
-  - 'for_each_prop_dai_codec'
-  - 'for_each_prop_dai_cpu'
-  - 'for_each_prop_dlc_codecs'
-  - 'for_each_prop_dlc_cpus'
-  - 'for_each_prop_dlc_platforms'
-  - 'for_each_property_of_node'
-  - 'for_each_reg'
-  - 'for_each_reg_filtered'
-  - 'for_each_registered_fb'
-  - 'for_each_requested_gpio'
-  - 'for_each_requested_gpio_in_range'
-  - 'for_each_reserved_mem_range'
-  - 'for_each_reserved_mem_region'
-  - 'for_each_rtd_codec_dais'
-  - 'for_each_rtd_components'
-  - 'for_each_rtd_cpu_dais'
-  - 'for_each_rtd_dais'
-  - 'for_each_script'
-  - 'for_each_sec'
-  - 'for_each_set_bit'
-  - 'for_each_set_bit_from'
-  - 'for_each_set_bitrange'
-  - 'for_each_set_bitrange_from'
-  - 'for_each_set_clump8'
-  - 'for_each_sg'
-  - 'for_each_sg_dma_page'
-  - 'for_each_sg_page'
-  - 'for_each_sgtable_dma_page'
-  - 'for_each_sgtable_dma_sg'
-  - 'for_each_sgtable_page'
-  - 'for_each_sgtable_sg'
-  - 'for_each_shell_test'
-  - 'for_each_sibling_event'
-  - 'for_each_subelement'
-  - 'for_each_subelement_extid'
-  - 'for_each_subelement_id'
-  - 'for_each_sublist'
-  - 'for_each_subsystem'
-  - 'for_each_supported_activate_fn'
-  - 'for_each_supported_inject_fn'
-  - 'for_each_test'
-  - 'for_each_thread'
-  - 'for_each_token'
-  - 'for_each_unicast_dest_pgid'
-  - 'for_each_vsi'
-  - 'for_each_wakeup_source'
-  - 'for_each_zone'
-  - 'for_each_zone_zonelist'
-  - 'for_each_zone_zonelist_nodemask'
-  - 'func_for_each_insn'
-  - 'fwnode_for_each_available_child_node'
-  - 'fwnode_for_each_child_node'
-  - 'fwnode_graph_for_each_endpoint'
-  - 'gadget_for_each_ep'
-  - 'genradix_for_each'
-  - 'genradix_for_each_from'
-  - 'hash_for_each'
-  - 'hash_for_each_possible'
-  - 'hash_for_each_possible_rcu'
-  - 'hash_for_each_possible_rcu_notrace'
-  - 'hash_for_each_possible_safe'
-  - 'hash_for_each_rcu'
-  - 'hash_for_each_safe'
-  - 'hashmap__for_each_entry'
-  - 'hashmap__for_each_entry_safe'
-  - 'hashmap__for_each_key_entry'
-  - 'hashmap__for_each_key_entry_safe'
-  - 'hctx_for_each_ctx'
-  - 'hists__for_each_format'
-  - 'hists__for_each_sort_list'
-  - 'hlist_bl_for_each_entry'
-  - 'hlist_bl_for_each_entry_rcu'
-  - 'hlist_bl_for_each_entry_safe'
-  - 'hlist_for_each'
-  - 'hlist_for_each_entry'
-  - 'hlist_for_each_entry_continue'
-  - 'hlist_for_each_entry_continue_rcu'
-  - 'hlist_for_each_entry_continue_rcu_bh'
-  - 'hlist_for_each_entry_from'
-  - 'hlist_for_each_entry_from_rcu'
-  - 'hlist_for_each_entry_rcu'
-  - 'hlist_for_each_entry_rcu_bh'
-  - 'hlist_for_each_entry_rcu_notrace'
-  - 'hlist_for_each_entry_safe'
-  - 'hlist_for_each_entry_srcu'
-  - 'hlist_for_each_safe'
-  - 'hlist_nulls_for_each_entry'
-  - 'hlist_nulls_for_each_entry_from'
-  - 'hlist_nulls_for_each_entry_rcu'
-  - 'hlist_nulls_for_each_entry_safe'
-  - 'i3c_bus_for_each_i2cdev'
-  - 'i3c_bus_for_each_i3cdev'
-  - 'idr_for_each_entry'
-  - 'idr_for_each_entry_continue'
-  - 'idr_for_each_entry_continue_ul'
-  - 'idr_for_each_entry_ul'
-  - 'in_dev_for_each_ifa_rcu'
-  - 'in_dev_for_each_ifa_rtnl'
-  - 'inet_bind_bucket_for_each'
-  - 'inet_lhash2_for_each_icsk'
-  - 'inet_lhash2_for_each_icsk_continue'
-  - 'inet_lhash2_for_each_icsk_rcu'
-  - 'interval_tree_for_each_double_span'
-  - 'interval_tree_for_each_span'
-  - 'intlist__for_each_entry'
-  - 'intlist__for_each_entry_safe'
-  - 'iopt_for_each_contig_area'
-  - 'kcore_copy__for_each_phdr'
-  - 'key_for_each'
-  - 'key_for_each_safe'
-  - 'klp_for_each_func'
-  - 'klp_for_each_func_safe'
-  - 'klp_for_each_func_static'
-  - 'klp_for_each_object'
-  - 'klp_for_each_object_safe'
-  - 'klp_for_each_object_static'
-  - 'kunit_suite_for_each_test_case'
-  - 'kvm_for_each_memslot'
-  - 'kvm_for_each_memslot_in_gfn_range'
-  - 'kvm_for_each_vcpu'
-  - 'libbpf_nla_for_each_attr'
-  - 'list_for_each'
-  - 'list_for_each_codec'
-  - 'list_for_each_codec_safe'
-  - 'list_for_each_continue'
-  - 'list_for_each_entry'
-  - 'list_for_each_entry_continue'
-  - 'list_for_each_entry_continue_rcu'
-  - 'list_for_each_entry_continue_reverse'
-  - 'list_for_each_entry_from'
-  - 'list_for_each_entry_from_rcu'
-  - 'list_for_each_entry_from_reverse'
-  - 'list_for_each_entry_lockless'
-  - 'list_for_each_entry_rcu'
-  - 'list_for_each_entry_reverse'
-  - 'list_for_each_entry_safe'
-  - 'list_for_each_entry_safe_continue'
-  - 'list_for_each_entry_safe_from'
-  - 'list_for_each_entry_safe_reverse'
-  - 'list_for_each_entry_srcu'
-  - 'list_for_each_from'
-  - 'list_for_each_prev'
-  - 'list_for_each_prev_safe'
-  - 'list_for_each_safe'
-  - 'llist_for_each'
-  - 'llist_for_each_entry'
-  - 'llist_for_each_entry_safe'
-  - 'llist_for_each_safe'
-  - 'map__for_each_symbol'
-  - 'map__for_each_symbol_by_name'
-  - 'map_for_each_event'
-  - 'map_for_each_metric'
-  - 'maps__for_each_entry'
-  - 'maps__for_each_entry_safe'
-  - 'mci_for_each_dimm'
-  - 'media_device_for_each_entity'
-  - 'media_device_for_each_intf'
-  - 'media_device_for_each_link'
-  - 'media_device_for_each_pad'
-  - 'msi_for_each_desc'
-  - 'nanddev_io_for_each_page'
-  - 'netdev_for_each_lower_dev'
-  - 'netdev_for_each_lower_private'
-  - 'netdev_for_each_lower_private_rcu'
-  - 'netdev_for_each_mc_addr'
-  - 'netdev_for_each_uc_addr'
-  - 'netdev_for_each_upper_dev_rcu'
-  - 'netdev_hw_addr_list_for_each'
-  - 'nft_rule_for_each_expr'
-  - 'nla_for_each_attr'
-  - 'nla_for_each_nested'
-  - 'nlmsg_for_each_attr'
-  - 'nlmsg_for_each_msg'
-  - 'nr_neigh_for_each'
-  - 'nr_neigh_for_each_safe'
-  - 'nr_node_for_each'
-  - 'nr_node_for_each_safe'
-  - 'of_for_each_phandle'
-  - 'of_property_for_each_string'
-  - 'of_property_for_each_u32'
-  - 'pci_bus_for_each_resource'
-  - 'pci_dev_for_each_resource'
-  - 'pcl_for_each_chunk'
-  - 'pcl_for_each_segment'
-  - 'pcm_for_each_format'
-  - 'perf_config_items__for_each_entry'
-  - 'perf_config_sections__for_each_entry'
-  - 'perf_config_set__for_each_entry'
-  - 'perf_cpu_map__for_each_cpu'
-  - 'perf_evlist__for_each_entry'
-  - 'perf_evlist__for_each_entry_reverse'
-  - 'perf_evlist__for_each_entry_safe'
-  - 'perf_evlist__for_each_evsel'
-  - 'perf_evlist__for_each_mmap'
-  - 'perf_hpp_list__for_each_format'
-  - 'perf_hpp_list__for_each_format_safe'
-  - 'perf_hpp_list__for_each_sort_list'
-  - 'perf_hpp_list__for_each_sort_list_safe'
-  - 'perf_pmu__for_each_hybrid_pmu'
-  - 'ping_portaddr_for_each_entry'
-  - 'ping_portaddr_for_each_entry_rcu'
-  - 'plist_for_each'
-  - 'plist_for_each_continue'
-  - 'plist_for_each_entry'
-  - 'plist_for_each_entry_continue'
-  - 'plist_for_each_entry_safe'
-  - 'plist_for_each_safe'
-  - 'pnp_for_each_card'
-  - 'pnp_for_each_dev'
-  - 'protocol_for_each_card'
-  - 'protocol_for_each_dev'
-  - 'queue_for_each_hw_ctx'
-  - 'radix_tree_for_each_slot'
-  - 'radix_tree_for_each_tagged'
-  - 'rb_for_each'
-  - 'rbtree_postorder_for_each_entry_safe'
-  - 'rdma_for_each_block'
-  - 'rdma_for_each_port'
-  - 'rdma_umem_for_each_dma_block'
-  - 'resort_rb__for_each_entry'
-  - 'resource_list_for_each_entry'
-  - 'resource_list_for_each_entry_safe'
-  - 'rhl_for_each_entry_rcu'
-  - 'rhl_for_each_rcu'
-  - 'rht_for_each'
-  - 'rht_for_each_entry'
-  - 'rht_for_each_entry_from'
-  - 'rht_for_each_entry_rcu'
-  - 'rht_for_each_entry_rcu_from'
-  - 'rht_for_each_entry_safe'
-  - 'rht_for_each_from'
-  - 'rht_for_each_rcu'
-  - 'rht_for_each_rcu_from'
-  - 'rq_for_each_bvec'
-  - 'rq_for_each_segment'
-  - 'rq_list_for_each'
-  - 'rq_list_for_each_safe'
-  - 'scsi_for_each_prot_sg'
-  - 'scsi_for_each_sg'
-  - 'sctp_for_each_hentry'
-  - 'sctp_skb_for_each'
-  - 'sec_for_each_insn'
-  - 'sec_for_each_insn_continue'
-  - 'sec_for_each_insn_from'
-  - 'shdma_for_each_chan'
-  - 'shost_for_each_device'
-  - 'sk_for_each'
-  - 'sk_for_each_bound'
-  - 'sk_for_each_entry_offset_rcu'
-  - 'sk_for_each_from'
-  - 'sk_for_each_rcu'
-  - 'sk_for_each_safe'
-  - 'sk_nulls_for_each'
-  - 'sk_nulls_for_each_from'
-  - 'sk_nulls_for_each_rcu'
-  - 'snd_array_for_each'
-  - 'snd_pcm_group_for_each_entry'
-  - 'snd_soc_dapm_widget_for_each_path'
-  - 'snd_soc_dapm_widget_for_each_path_safe'
-  - 'snd_soc_dapm_widget_for_each_sink_path'
-  - 'snd_soc_dapm_widget_for_each_source_path'
-  - 'strlist__for_each_entry'
-  - 'strlist__for_each_entry_safe'
-  - 'sym_for_each_insn'
-  - 'sym_for_each_insn_continue_reverse'
-  - 'symbols__for_each_entry'
-  - 'tb_property_for_each'
-  - 'tcf_act_for_each_action'
-  - 'tcf_exts_for_each_action'
-  - 'udp_portaddr_for_each_entry'
-  - 'udp_portaddr_for_each_entry_rcu'
-  - 'usb_hub_for_each_child'
-  - 'v4l2_device_for_each_subdev'
-  - 'v4l2_m2m_for_each_dst_buf'
-  - 'v4l2_m2m_for_each_dst_buf_safe'
-  - 'v4l2_m2m_for_each_src_buf'
-  - 'v4l2_m2m_for_each_src_buf_safe'
-  - 'virtio_device_for_each_vq'
-  - 'while_for_each_ftrace_op'
-  - 'xa_for_each'
-  - 'xa_for_each_marked'
-  - 'xa_for_each_range'
-  - 'xa_for_each_start'
-  - 'xas_for_each'
-  - 'xas_for_each_conflict'
-  - 'xas_for_each_marked'
-  - 'xbc_array_for_each_value'
-  - 'xbc_for_each_key_value'
-  - 'xbc_node_for_each_array_value'
-  - 'xbc_node_for_each_child'
-  - 'xbc_node_for_each_key_value'
-  - 'xbc_node_for_each_subkey'
-  - 'zorro_for_each_dev'
-
-IncludeBlocks: Preserve
-IncludeCategories:
-  - Regex: '.*'
-    Priority: 1
-IncludeIsMainRegex: '(Test)?$'
-IndentCaseLabels: false
-IndentGotoLabels: false
-IndentPPDirectives: None
-IndentWidth: 8
-IndentWrappedFunctionNames: false
-JavaScriptQuotes: Leave
-JavaScriptWrapImports: true
-KeepEmptyLinesAtTheStartOfBlocks: false
-MacroBlockBegin: ''
-MacroBlockEnd: ''
-MaxEmptyLinesToKeep: 1
-NamespaceIndentation: None
-ObjCBinPackProtocolList: Auto
-ObjCBlockIndentWidth: 8
-ObjCSpaceAfterProperty: true
-ObjCSpaceBeforeProtocolList: true
-
-# Taken from git's rules
-PenaltyBreakAssignment: 10
-PenaltyBreakBeforeFirstCallParameter: 30
-PenaltyBreakComment: 10
-PenaltyBreakFirstLessLess: 0
-PenaltyBreakString: 10
-PenaltyExcessCharacter: 100
-PenaltyReturnTypeOnItsOwnLine: 60
-
-PointerAlignment: Right
-ReflowComments: false
-SortIncludes: false
-SortUsingDeclarations: false
-SpaceAfterCStyleCast: false
-SpaceAfterTemplateKeyword: true
-SpaceBeforeAssignmentOperators: true
-SpaceBeforeCtorInitializerColon: true
-SpaceBeforeInheritanceColon: true
-SpaceBeforeParens: ControlStatementsExceptForEachMacros
-SpaceBeforeRangeBasedForLoopColon: true
-SpaceInEmptyParentheses: false
-SpacesBeforeTrailingComments: 1
-SpacesInAngles: false
-SpacesInContainerLiterals: false
-SpacesInCStyleCastParentheses: false
-SpacesInParentheses: false
-SpacesInSquareBrackets: false
-Standard: Cpp03
-TabWidth: 8
-UseTab: Always
-...
diff -urN evdi-a/.github/ISSUE_TEMPLATE.md evdi-b/.github/ISSUE_TEMPLATE.md
--- evdi-a/.github/ISSUE_TEMPLATE.md	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/.github/ISSUE_TEMPLATE.md	1969-12-31 19:00:00.000000000 -0500
@@ -1,28 +0,0 @@
-<!-- Initially please make sure the problem hasn't been already addressed: -->
-  * Are you using the latest driver?
-    <!-- (https://www.displaylink.com/downloads/ubuntu) -->
-  * Are you using the latest EVDI version?
-    <!-- (https://github.com/DisplayLink/evdi/releases) -->
-  * If you are using a DisplayLink device, have you checked 'troubleshooting'
-    on DisplayLink's website?
-    <!-- (https://support.displaylink.com/knowledgebase/topics/103927-troubleshooting-ubuntu) -->
-  * Is this issue related to evdi/kernel?
-    <!-- (if it is rather connected to DisplayLinkManager please take a look at support
-    https://support.displaylink.com or forum https://www.displaylink.org/forum/) -->
-
-<!-- Some information for baseline would help a lot: -->
-  * Linux distribution and its version
-  * Linux kernel version
-  * Xorg version (if used)
-  * Desktop environment in use
-
-<!--
-Please provide good title for the issue and description.
-If you can give us logs they will be welcome but please don't paste long listings
-as they will make it hard to read the thread, instead you can use other services
-for sharing raw text like pastebin or gist.
-Also anything that may help to understand the problem will be appreciated
-(configuration files, screenshots, photos, video capturing the problem).
-
-Thanks!
--->
diff -urN evdi-a/.github/PULL_REQUEST_TEMPLATE.md evdi-b/.github/PULL_REQUEST_TEMPLATE.md
--- evdi-a/.github/PULL_REQUEST_TEMPLATE.md	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/.github/PULL_REQUEST_TEMPLATE.md	1969-12-31 19:00:00.000000000 -0500
@@ -1,14 +0,0 @@
-Before submitting the PR please make sure you have run *ci* scripts:
-  * `./ci/build_against_kernel` (see `--help` for all options)
-    We need backward compatibility and this script is a handy way of testing
-    build compliance with many kernel versions.
-  * `./ci/run_style_check`
-    We want to be as style compliant as possible. Again, this is a handy way of
-    checking it.
-
-If you have more than one change consider creating separate PRs for them; it
-will make the review process much easier. Also provide some description (links
-to source code or mailing list are welcome - this might help to understand the
-change).
-
-Thanks for the contribution!
diff -urN evdi-a/.gitignore evdi-b/.gitignore
--- evdi-a/.gitignore	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/.gitignore	1969-12-31 19:00:00.000000000 -0500
@@ -1,27 +0,0 @@
-*.cmd
-*.d
-*.ko
-*.o
-*.order
-*.rej
-*.so
-*.so.*
-*.symvers
-
-module/.cache.mk
-module/.tmp_versions/
-module/built-in.a
-module/evdi.mod
-module/evdi.mod.c
-
-site/
-tmp/
-
-checkpatch.pl
-const_structs.checkpatch
-spelling.txt
-
-__pycache__/
-.venv_evdi/
-.cache/
-compile_commands.json
diff -urN evdi-a/.gitlab/CODEOWNERS evdi-b/.gitlab/CODEOWNERS
--- evdi-a/.gitlab/CODEOWNERS	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/.gitlab/CODEOWNERS	1969-12-31 19:00:00.000000000 -0500
@@ -1,2 +0,0 @@
-[MAINTAINER]
-* @lspintzyk @jprussak @emajewska @mlukaszek @akaleta
diff -urN evdi-a/library/evdi_lib.c evdi-b/library/evdi_lib.c
--- evdi-a/library/evdi_lib.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/library/evdi_lib.c	2026-02-09 03:40:17.000000000 -0500
@@ -1,4 +1,4 @@
-// SPDX-License-Identifier: LGPL-2.1-only
+// SPDX-License-Identifier: LGPL-2.1-or-later
 // Copyright (c) 2015 - 2024 DisplayLink (UK) Ltd.
 
 #include <stddef.h>
diff -urN evdi-a/library/evdi_lib.h evdi-b/library/evdi_lib.h
--- evdi-a/library/evdi_lib.h	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/library/evdi_lib.h	2026-02-09 03:40:17.000000000 -0500
@@ -1,4 +1,4 @@
-/* SPDX-License-Identifier: LGPL-2.1-only
+/* SPDX-License-Identifier: LGPL-2.1-or-later
  * Copyright (c) 2015 - 2024 DisplayLink (UK) Ltd.
  */
 
@@ -15,7 +15,7 @@
 
 #define LIBEVDI_VERSION_MAJOR 1
 #define LIBEVDI_VERSION_MINOR 14
-#define LIBEVDI_VERSION_PATCH 11
+#define LIBEVDI_VERSION_PATCH 14
 
 struct evdi_lib_version {
 	int version_major;
diff -urN evdi-a/library/evdi_procfs.c evdi-b/library/evdi_procfs.c
--- evdi-a/library/evdi_procfs.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/library/evdi_procfs.c	2026-02-09 03:40:17.000000000 -0500
@@ -1,4 +1,4 @@
-// SPDX-License-Identifier: LGPL-2.1-only
+// SPDX-License-Identifier: LGPL-2.1-or-later
 // Copyright (c) 2015 - 2024 DisplayLink (UK) Ltd.
 
 #include "evdi_lib.h"
diff -urN evdi-a/library/Makefile evdi-b/library/Makefile
--- evdi-a/library/Makefile	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/library/Makefile	2026-02-09 03:40:17.000000000 -0500
@@ -11,7 +11,7 @@
 DEPS = evdi_ioctl.h
 CFLAGS := -I../module -std=gnu99 -fPIC -D_FILE_OFFSET_BITS=64 $(CFLAGS) $$($(PKG_CONFIG) --cflags-only-I libdrm)
 
-LIBVER := 1.14.11
+LIBVER := 1.14.14
 LIBABI := 1
 
 PREFIX ?= /usr/local
diff -urN evdi-a/module/dkms.conf evdi-b/module/dkms.conf
--- evdi-a/module/dkms.conf	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/dkms.conf	2026-02-09 03:40:17.000000000 -0500
@@ -7,7 +7,7 @@
 #
 
 PACKAGE_NAME="evdi"
-PACKAGE_VERSION=1.14.11
+PACKAGE_VERSION=1.14.14
 AUTOINSTALL=yes
 
 MAKE[0]="make all INCLUDEDIR=/lib/modules/$kernelver/build/include KVERSION=$kernelver DKMS_BUILD=1"
diff -urN evdi-a/module/dkms_install.sh evdi-b/module/dkms_install.sh
--- evdi-a/module/dkms_install.sh	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/dkms_install.sh	2026-02-09 03:40:17.000000000 -0500
@@ -2,7 +2,7 @@
 # SPDX-License-Identifier: GPL-2.0-only
 # Copyright (c) 2023 DisplayLink (UK) Ltd.
 
-evdi_version='1.14.11'
+evdi_version='1.14.14'
 
 EVDI_DIR=$(dirname "${BASH_SOURCE[0]}")
 EVDI_REBOOT_RATIONALE=
diff -urN evdi-a/module/evdi_connector.c evdi-b/module/evdi_connector.c
--- evdi-a/module/evdi_connector.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_connector.c	2026-02-09 03:40:17.000000000 -0500
@@ -78,7 +78,7 @@
 }
 
 static enum drm_mode_status evdi_mode_valid(struct drm_connector *connector,
-#if KERNEL_VERSION(6, 15, 0) <= LINUX_VERSION_CODE
+#if KERNEL_VERSION(6, 15, 0) <= LINUX_VERSION_CODE || defined(EL9) || defined(EL10)
 					    const struct drm_display_mode *mode)
 #else
 					    struct drm_display_mode *mode)
diff -urN evdi-a/module/evdi_drm_drv.c evdi-b/module/evdi_drm_drv.c
--- evdi-a/module/evdi_drm_drv.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_drm_drv.c	2026-02-09 03:40:17.000000000 -0500
@@ -104,7 +104,7 @@
 	.open = evdi_driver_open,
 	.postclose = evdi_driver_postclose,
 
-#if KERNEL_VERSION(6, 15, 0) <= LINUX_VERSION_CODE
+#if KERNEL_VERSION(6, 15, 0) <= LINUX_VERSION_CODE || defined(EL9) || defined(EL10)
 #ifdef CONFIG_FB
 	.fbdev_probe = evdifb_create,
 #endif
@@ -153,7 +153,7 @@
 
 	.name = DRIVER_NAME,
 	.desc = DRIVER_DESC,
-#if KERNEL_VERSION(6, 14, 0) <= LINUX_VERSION_CODE
+#if KERNEL_VERSION(6, 14, 0) <= LINUX_VERSION_CODE || defined(EL9) || defined(EL10)
 #else
 	.date = DRIVER_DATE,
 #endif
diff -urN evdi-a/module/evdi_drm_drv.h evdi-b/module/evdi_drm_drv.h
--- evdi-a/module/evdi_drm_drv.h	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_drm_drv.h	2026-02-09 03:40:17.000000000 -0500
@@ -79,6 +79,7 @@
 	struct drm_framebuffer base;
 	struct evdi_gem_object *obj;
 	bool active;
+	bool is_from_xe;
 };
 
 #define to_evdi_fb(x) container_of(x, struct evdi_framebuffer, base)
diff -urN evdi-a/module/evdi_fb.c evdi-b/module/evdi_fb.c
--- evdi-a/module/evdi_fb.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_fb.c	2026-02-09 03:40:17.000000000 -0500
@@ -25,6 +25,7 @@
 #include <drm/drm_crtc_helper.h>
 #include <drm/drm_fb_helper.h>
 #include <drm/drm_atomic.h>
+#include <drm/drm_print.h>
 #if KERNEL_VERSION(5, 0, 0) <= LINUX_VERSION_CODE || defined(EL8)
 #include <drm/drm_damage_helper.h>
 #endif
@@ -471,7 +472,7 @@
 	return ret;
 }
 
-#if KERNEL_VERSION(6, 15, 0) <= LINUX_VERSION_CODE
+#if KERNEL_VERSION(6, 15, 0) <= LINUX_VERSION_CODE || defined(EL9) || defined(EL10)
 #else
 static struct drm_fb_helper_funcs evdi_fb_helper_funcs = {
 	.fb_probe = evdifb_create,
@@ -520,9 +521,9 @@
 		return -ENOMEM;
 
 	evdi->fbdev = efbdev;
-#if KERNEL_VERSION(6, 15, 0) <= LINUX_VERSION_CODE
+#if KERNEL_VERSION(6, 15, 0) <= LINUX_VERSION_CODE || defined(EL9) || defined(EL10)
 	drm_fb_helper_prepare(dev, &efbdev->helper, 32, NULL);
-#elif KERNEL_VERSION(6, 3, 0) <= LINUX_VERSION_CODE || defined(EL8) || defined(EL9)
+#elif KERNEL_VERSION(6, 3, 0) <= LINUX_VERSION_CODE || defined(EL8)
 	drm_fb_helper_prepare(dev, &efbdev->helper, 32, &evdi_fb_helper_funcs);
 #else
 	drm_fb_helper_prepare(dev, &efbdev->helper, &evdi_fb_helper_funcs);
@@ -606,6 +607,24 @@
 	return info->cpp[0] * 8;
 }
 
+#if KERNEL_VERSION(5, 18, 0) <= LINUX_VERSION_CODE
+static bool is_xe_gem(struct dma_buf *dmabuf)
+{
+	struct drm_gem_object *obj;
+
+	if (!dmabuf)
+		return false;
+	if (dmabuf->ops->vmap != drm_gem_dmabuf_vmap || !dmabuf->owner)
+		return false;
+	obj = dmabuf->priv;
+	if (!obj || !obj->funcs)
+		return false;
+
+	return strncmp("xe", dmabuf->owner->name, min_t(size_t, 2, strlen(dmabuf->owner->name))) == 0;
+		return false;
+}
+#endif
+
 struct drm_framebuffer *evdi_fb_user_fb_create(
 					struct drm_device *dev,
 					struct drm_file *file,
@@ -651,6 +670,10 @@
 				    mode_cmd, to_evdi_bo(obj));
 	if (ret)
 		goto err_inval;
+
+#if KERNEL_VERSION(5, 18, 0) <= LINUX_VERSION_CODE
+	efb->is_from_xe = is_xe_gem(obj->dma_buf);
+#endif
 	return &efb->base;
 
  err_no_mem:
diff -urN evdi-a/module/evdi_gem.c evdi-b/module/evdi_gem.c
--- evdi-a/module/evdi_gem.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_gem.c	2026-02-09 03:40:17.000000000 -0500
@@ -15,12 +15,15 @@
 #include <linux/dma-buf-map.h>
 #endif
 #if KERNEL_VERSION(5, 16, 0) <= LINUX_VERSION_CODE || defined(EL8) || defined(EL9)
+#include <drm/drm_gem_ttm_helper.h>
 #include <drm/drm_prime.h>
 #include <drm/drm_file.h>
+#include <linux/minmax.h>
 #elif KERNEL_VERSION(5, 5, 0) <= LINUX_VERSION_CODE
 #else
 #include <drm/drmP.h>
 #endif
+#include <drm/drm_print.h>
 #include "evdi_drm_drv.h"
 #include "evdi_params.h"
 #include <linux/shmem_fs.h>
@@ -289,6 +292,77 @@
 		evdi_gem_put_pages(obj);
 	mutex_unlock(&obj->pages_lock);
 }
+# if KERNEL_VERSION(6, 2, 0) <= LINUX_VERSION_CODE || defined(EL8) || defined(EL9)
+#if IS_ENABLED(CONFIG_DRM_TTM_HELPER)
+static bool is_xe_gem_ttm_object_without_vmap(struct dma_buf *dmabuf)
+{
+	struct drm_gem_object *obj;
+
+	if (dmabuf->ops->vmap != drm_gem_dmabuf_vmap || !dmabuf->owner)
+		return false;
+	obj = dmabuf->priv;
+	if (!obj || !obj->funcs)
+		return false;
+
+	if (strncmp("xe", dmabuf->owner->name, min_t(size_t, 2, strlen(dmabuf->owner->name))) != 0)
+		return false;
+
+	return obj->funcs->vmap == NULL;
+}
+
+static int dma_buf_vmap_xe_gem_unlocked(struct dma_buf *dmabuf, struct iosys_map *map)
+{
+	int ret;
+
+	iosys_map_clear(map);
+
+	if (WARN_ON(!dmabuf))
+		return -EINVAL;
+
+	dma_resv_lock(dmabuf->resv, NULL);
+	ret = drm_gem_ttm_vmap(dmabuf->priv, map);
+	dma_resv_unlock(dmabuf->resv);
+
+	return ret;
+}
+
+static void dma_buf_vunmap_xe_gem_unlocked(struct dma_buf *dmabuf, struct iosys_map *map)
+{
+	if (WARN_ON(!dmabuf))
+		return;
+
+	dma_resv_lock(dmabuf->resv, NULL);
+	drm_gem_ttm_vunmap(dmabuf->priv, map);
+	dma_resv_unlock(dmabuf->resv);
+}
+
+#endif
+
+static int evdi_dma_buf_vmap_unlocked(struct dma_buf *dmabuf, struct iosys_map *map)
+{
+	int ret = -EINVAL;
+
+#if IS_ENABLED(CONFIG_DRM_TTM_HELPER)
+	if (is_xe_gem_ttm_object_without_vmap(dmabuf))
+		ret = dma_buf_vmap_xe_gem_unlocked(dmabuf, map);
+#endif
+	if (ret)
+		ret = dma_buf_vmap_unlocked(dmabuf, map);
+	return ret;
+}
+
+static void evdi_dma_buf_vunmap_unlocked(struct dma_buf *dmabuf, struct iosys_map *map)
+{
+#if IS_ENABLED(CONFIG_DRM_TTM_HELPER)
+	if (is_xe_gem_ttm_object_without_vmap(dmabuf))
+		dma_buf_vunmap_xe_gem_unlocked(dmabuf, map);
+	else
+		dma_buf_vunmap_unlocked(dmabuf, map);
+#else
+	dma_buf_vunmap_unlocked(dmabuf, map);
+#endif
+}
+#endif
 
 int evdi_gem_vmap(struct evdi_gem_object *obj)
 {
@@ -304,7 +378,7 @@
 
 #if KERNEL_VERSION(5, 11, 0) <= LINUX_VERSION_CODE || defined(EL8)
 # if KERNEL_VERSION(6, 2, 0) <= LINUX_VERSION_CODE || defined(EL8) || defined(EL9)
-		ret = dma_buf_vmap_unlocked(obj->base.import_attach->dmabuf, &map);
+		ret = evdi_dma_buf_vmap_unlocked(obj->base.import_attach->dmabuf, &map);
 # else
 		ret = dma_buf_vmap(obj->base.import_attach->dmabuf, &map);
 # endif
@@ -342,7 +416,7 @@
 			iosys_map_set_vaddr(&map, obj->vmapping);
 
 # if KERNEL_VERSION(6, 2, 0) <= LINUX_VERSION_CODE || defined(EL8) || defined(EL9)
-		dma_buf_vunmap_unlocked(obj->base.import_attach->dmabuf, &map);
+		evdi_dma_buf_vunmap_unlocked(obj->base.import_attach->dmabuf, &map);
 # else
 		dma_buf_vunmap(obj->base.import_attach->dmabuf, &map);
 # endif
@@ -402,12 +476,9 @@
 	struct drm_gem_object *obj;
 	int ret = 0;
 
-	mutex_lock(&dev->struct_mutex);
 	obj = drm_gem_object_lookup(file, handle);
-	if (obj == NULL) {
-		ret = -ENOENT;
-		goto unlock;
-	}
+	if (obj == NULL)
+		return -ENOENT;
 	gobj = to_evdi_bo(obj);
 
 	ret = evdi_pin_pages(gobj);
@@ -429,11 +500,27 @@
 
  out:
 	drm_gem_object_put(&gobj->base);
- unlock:
-	mutex_unlock(&dev->struct_mutex);
 	return ret;
 }
 
+#if KERNEL_VERSION(5, 8, 0) <= LINUX_VERSION_CODE
+#else
+#define for_each_sgtable_page(sgt, piter, pgoffset)	\
+	for_each_sg_page(sgt->sgl, piter, sgt->orig_nents, pgoffset)
+#endif
+
+static int evdi_get_sg_table_pages_num(struct sg_table *sgt)
+{
+	struct sg_page_iter page_iter;
+	int npages = 0;
+
+	for_each_sgtable_page(sgt, &page_iter, 0) {
+		npages++;
+	}
+
+	return npages;
+}
+
 struct drm_gem_object *
 evdi_prime_import_sg_table(struct drm_device *dev,
 			   struct dma_buf_attachment *attach,
@@ -441,6 +528,7 @@
 {
 	struct evdi_gem_object *obj;
 	int npages;
+	int npages_sg;
 	bool called_by_mutter;
 
 	called_by_mutter = evdi_was_called_by_mutter();
@@ -450,6 +538,8 @@
 		return ERR_CAST(obj);
 
 	npages = DIV_ROUND_UP(attach->dmabuf->size, PAGE_SIZE);
+	npages_sg = evdi_get_sg_table_pages_num(sg);
+	npages = npages < npages_sg ? npages_sg : npages_sg;
 	DRM_DEBUG_PRIME("Importing %d pages\n", npages);
 	obj->pages = kvmalloc_array(npages, sizeof(struct page *), GFP_KERNEL);
 	if (!obj->pages) {
diff -urN evdi-a/module/evdi_modeset.c evdi-b/module/evdi_modeset.c
--- evdi-a/module/evdi_modeset.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_modeset.c	2026-02-09 03:40:17.000000000 -0500
@@ -134,13 +134,11 @@
 
 	EVDI_CHECKPT();
 	if (handle) {
-		mutex_lock(&dev->struct_mutex);
 		obj = drm_gem_object_lookup(file, handle);
 		if (obj)
 			eobj = to_evdi_bo(obj);
 		else
 			EVDI_ERROR("Failed to lookup gem object.\n");
-		mutex_unlock(&dev->struct_mutex);
 	}
 
 	evdi_cursor_set(evdi->cursor,
@@ -343,8 +341,6 @@
 		int32_t cursor_position_x = 0;
 		int32_t cursor_position_y = 0;
 
-		mutex_lock(&plane->dev->struct_mutex);
-
 		evdi_cursor_position(evdi->cursor, &cursor_position_x,
 		&cursor_position_y);
 		evdi_cursor_move(evdi->cursor, state->crtc_x, state->crtc_y);
@@ -369,7 +365,6 @@
 			cursor_changed = true;
 		}
 
-		mutex_unlock(&plane->dev->struct_mutex);
 		if (!evdi->cursor_events_enabled) {
 			if (fb != NULL) {
 				if (efb->obj->allow_sw_cursor_rect_updates) {
diff -urN evdi-a/module/evdi_painter.c evdi-b/module/evdi_painter.c
--- evdi-a/module/evdi_painter.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_painter.c	2026-02-09 03:40:17.000000000 -0500
@@ -14,11 +14,15 @@
 #include <drm/drm_file.h>
 #include <drm/drm_vblank.h>
 #include <drm/drm_ioctl.h>
+#include <drm/drm_gem_framebuffer_helper.h>
 #elif KERNEL_VERSION(5, 5, 0) <= LINUX_VERSION_CODE
 #else
 #include <drm/drmP.h>
 #endif
 #include <drm/drm_edid.h>
+#if defined(CONFIG_X86)
+#include <drm/drm_cache.h>
+#endif
 #include "evdi_drm.h"
 #include "evdi_drm_drv.h"
 #include "evdi_cursor.h"
@@ -28,17 +32,19 @@
 #include <linux/compiler.h>
 #include <linux/platform_device.h>
 #include <linux/completion.h>
-
+#include <linux/ktime.h>
+#include <linux/debugfs.h>
 #include <linux/dma-buf.h>
 #include <linux/vt_kern.h>
+#include <linux/vmalloc.h>
 #if KERNEL_VERSION(5, 4, 0) <= LINUX_VERSION_CODE || defined(EL8)
 #include <linux/compiler_attributes.h>
 #endif
 
 /* Import of DMA_BUF namespace was reverted in EL8 */
-#if KERNEL_VERSION(6, 13, 0) <= LINUX_VERSION_CODE || defined(EL10)
+#if KERNEL_VERSION(6, 13, 0) <= LINUX_VERSION_CODE || defined(EL9) || defined(EL10)
 MODULE_IMPORT_NS("DMA_BUF");
-#elif KERNEL_VERSION(5, 16, 0) <= LINUX_VERSION_CODE || defined(EL9)
+#elif KERNEL_VERSION(5, 16, 0) <= LINUX_VERSION_CODE
 MODULE_IMPORT_NS(DMA_BUF);
 #endif
 
@@ -113,6 +119,9 @@
 	unsigned int ddcci_buffer_length;
 	struct notifier_block vt_notifier;
 	int fg_console;
+#if KERNEL_VERSION(6, 7, 0) <= LINUX_VERSION_CODE
+	struct dentry *debugfs_measure_copy;
+#endif
 };
 
 static void expand_rect(struct drm_clip_rect *a, const struct drm_clip_rect *b)
@@ -166,6 +175,39 @@
 	*count = 1;
 }
 
+#if KERNEL_VERSION(5, 18, 0) <= LINUX_VERSION_CODE || defined(EL8) || defined(EL9)
+static int copy_primary_pixels_on_xe(struct evdi_framebuffer *efb,
+			       char __user *buffer,
+			       int buf_byte_stride,
+			       int const max_x,
+			       int const max_y)
+{
+	int y;
+	struct drm_framebuffer *fb = &efb->base;
+	const int byte_span = max_x * 4;
+	struct iosys_map dst_mapping = IOSYS_MAP_INIT_VADDR(vmalloc(max_x * 4));
+
+	for (y = 0; y < max_y; ++y) {
+		const int src_offset = fb->offsets[0] + fb->pitches[0] * y;
+		struct iosys_map src_mapping = IOSYS_MAP_INIT_VADDR((char *)efb->obj->vmapping + src_offset);
+		const int dst_offset = buf_byte_stride * y;
+		char __user *dst = buffer + dst_offset;
+
+		drm_clflush_virt_range(src_mapping.vaddr, byte_span);
+		drm_memcpy_from_wc(&dst_mapping, &src_mapping, byte_span);
+		if (copy_to_user(dst, dst_mapping.vaddr, byte_span))
+			return -EFAULT;
+
+		src_mapping.vaddr += fb->pitches[0];
+		dst += buf_byte_stride;
+	}
+
+	vfree(dst_mapping.vaddr);
+	return 0;
+
+}
+#endif
+
 static int copy_primary_pixels(struct evdi_framebuffer *efb,
 			       char __user *buffer,
 			       int buf_byte_stride,
@@ -178,6 +220,11 @@
 
 	EVDI_CHECKPT();
 
+#if KERNEL_VERSION(5, 18, 0) <= LINUX_VERSION_CODE || defined(EL8) || defined(EL9)
+	if (efb->is_from_xe)
+		return copy_primary_pixels_on_xe(efb, buffer, buf_byte_stride, max_x, max_y);
+#endif
+
 	for (r = rects; r != rects + num_rects; ++r) {
 		const int byte_offset = r->x1 * 4;
 		const int byte_span = (r->x2 - r->x1) * 4;
@@ -198,6 +245,9 @@
 			     r->y2);
 
 		for (; y > 0; --y) {
+#if defined(CONFIG_X86)
+			drm_clflush_virt_range((void *)src, byte_span);
+#endif
 			if (copy_to_user(dst, src, byte_span))
 				return -EFAULT;
 
@@ -862,7 +912,6 @@
 {
 	struct evdi_painter *painter = evdi->painter;
 	struct edid *new_edid = NULL;
-	unsigned int expected_edid_size = 0;
 	char buf[100];
 
 	evdi_log_process(buf, sizeof(buf));
@@ -887,15 +936,6 @@
 		return -EFAULT;
 	}
 
-	expected_edid_size = sizeof(struct edid) +
-			     new_edid->extensions * EDID_EXT_BLOCK_SIZE;
-	if (expected_edid_size != edid_length) {
-		EVDI_ERROR("Wrong edid size. Expected %d but is %d\n",
-			   expected_edid_size, edid_length);
-		kfree(new_edid);
-		return -EINVAL;
-	}
-
 	if (painter->drm_filp)
 		EVDI_WARN("(card%d) Double connect - replacing %p with %p\n",
 			  evdi->dev_index, painter->drm_filp, file);
@@ -1223,6 +1263,57 @@
 	EVDI_TEST_HOOK(evdi_testhook_painter_vt_register(&painter->vt_notifier));
 }
 
+#if KERNEL_VERSION(6, 7, 0) <= LINUX_VERSION_CODE
+static int evdi_painter_debugfs_measure_copy_fb(void *data, u64 val)
+{
+	struct evdi_painter *painter = (struct evdi_painter *)data;
+	struct drm_framebuffer *fb;
+	struct evdi_framebuffer *efb;
+	uint32_t dst_buf_size = 0;
+	struct iosys_map dst_mapping = IOSYS_MAP_INIT_VADDR(NULL);
+	ktime_t copy_start_time = 0;
+	ktime_t copy_end_time = 0;
+	uint32_t copy_time = 0;
+
+
+	fb = drm_framebuffer_lookup(painter->drm_device, painter->drm_filp, val);
+
+	if (!fb) {
+		EVDI_ERROR("Failed to lookup fb %llu\n", val);
+		return 0;
+	}
+
+	efb = to_evdi_fb(fb);
+	dst_buf_size = fb->obj[0]->size;
+	dst_mapping.vaddr = vmalloc(dst_buf_size);
+
+	if (evdi_gem_vmap(efb->obj) == -ENOMEM || !efb->obj->vmapping) {
+		EVDI_ERROR("Failed to map buffer\n");
+		goto put_fb;
+	}
+
+	drm_gem_fb_begin_cpu_access(fb, DMA_FROM_DEVICE);
+	copy_start_time = ktime_get();
+
+	memcpy(dst_mapping.vaddr, efb->obj->vmapping, dst_buf_size);
+
+	copy_end_time = ktime_get();
+	drm_gem_fb_end_cpu_access(fb, DMA_FROM_DEVICE);
+
+	evdi_gem_vunmap(efb->obj);
+	vfree(dst_mapping.vaddr);
+	copy_time = ktime_to_ms(copy_end_time - copy_start_time);
+
+	EVDI_DEBUG("debugfs: measure_copy_fb %llu takes %u [ms]\n", val, copy_time);
+put_fb:
+
+	drm_framebuffer_put(fb);
+	return copy_time;
+}
+
+DEFINE_DEBUGFS_ATTRIBUTE(evdi_painter_debug_test_ops, NULL, evdi_painter_debugfs_measure_copy_fb, "%llu\n");
+#endif
+
 int evdi_painter_init(struct evdi_device *dev)
 {
 	EVDI_CHECKPT();
@@ -1236,6 +1327,9 @@
 		dev->painter->vblank = NULL;
 		dev->painter->drm_device = dev->ddev;
 		evdi_painter_register_to_vt(dev->painter);
+#if KERNEL_VERSION(6, 7, 0) <= LINUX_VERSION_CODE
+		dev->painter->debugfs_measure_copy = debugfs_create_file("measure_copy_fb", 0400, dev->ddev->debugfs_root, dev->painter, &evdi_painter_debug_test_ops);
+#endif
 
 		INIT_LIST_HEAD(&dev->painter->pending_events);
 		INIT_DELAYED_WORK(&dev->painter->send_events_work,
@@ -1255,6 +1349,9 @@
 	}
 
 	painter_lock(painter);
+#if KERNEL_VERSION(6, 7, 0) <= LINUX_VERSION_CODE
+	debugfs_lookup_and_remove("measure_copy_fb", painter->drm_device->debugfs_root);
+#endif
 	evdi_painter_unregister_from_vt(painter);
 	kfree(painter->edid);
 	painter->edid_length = 0;
diff -urN evdi-a/module/evdi_platform_dev.c evdi-b/module/evdi_platform_dev.c
--- evdi-a/module/evdi_platform_dev.c	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_platform_dev.c	2026-02-09 03:40:17.000000000 -0500
@@ -85,7 +85,7 @@
 	return PTR_ERR_OR_ZERO(dev);
 }
 
-/* EL9 kernel removed the callback that was returning void  */
+/* EL9 kernel removed the callback that was returning void. Do not use for EL9 */
 #if KERNEL_VERSION(6, 11, 0) <= LINUX_VERSION_CODE
 void evdi_platform_device_remove(struct platform_device *pdev)
 #else
@@ -98,6 +98,7 @@
 
 	evdi_drm_device_remove(data->drm_dev);
 	kfree(data);
+/* Need to return int for EL9 kernels */
 #if KERNEL_VERSION(6, 11, 0) <= LINUX_VERSION_CODE
 #else
 	return 0;
diff -urN evdi-a/module/evdi_platform_dev.h evdi-b/module/evdi_platform_dev.h
--- evdi-a/module/evdi_platform_dev.h	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_platform_dev.h	2026-02-09 03:40:17.000000000 -0500
@@ -32,7 +32,7 @@
 void evdi_platform_dev_destroy(struct platform_device *dev);
 
 int evdi_platform_device_probe(struct platform_device *pdev);
-/* EL9 kernel removed the callback that was returning void  */
+/* EL9 kernel removed the callback that was returning void. Do not use for EL9  */
 #if KERNEL_VERSION(6, 11, 0) <= LINUX_VERSION_CODE
 void evdi_platform_device_remove(struct platform_device *pdev);
 #else
diff -urN evdi-a/module/evdi_platform_drv.h evdi-b/module/evdi_platform_drv.h
--- evdi-a/module/evdi_platform_drv.h	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/evdi_platform_drv.h	2026-02-09 03:40:17.000000000 -0500
@@ -27,14 +27,14 @@
 
 #define DRIVER_NAME   "evdi"
 #define DRIVER_DESC   "Extensible Virtual Display Interface"
-#if KERNEL_VERSION(6, 14, 0) <= LINUX_VERSION_CODE
+#if KERNEL_VERSION(6, 14, 0) <= LINUX_VERSION_CODE || defined(EL9) || defined(EL10)
 #else
-#define DRIVER_DATE   "20250630"
+#define DRIVER_DATE   "20260209"
 #endif
 
 #define DRIVER_MAJOR 1
 #define DRIVER_MINOR 14
-#define DRIVER_PATCH 11
+#define DRIVER_PATCH 14
 
 void evdi_platform_remove_all_devices(struct device *device);
 unsigned int evdi_platform_device_count(struct device *device);
diff -urN evdi-a/module/Kconfig evdi-b/module/Kconfig
--- evdi-a/module/Kconfig	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/Kconfig	2026-02-09 03:40:17.000000000 -0500
@@ -24,6 +24,7 @@
 	tristate "KUnit tests for evdi" if !KUNIT_ALL_TESTS
 		depends on DRM_EVDI && KUNIT
 		default KUNIT_ALL_TESTS
+		select DRM_TTM_HELPER
 	help
 		KUnit tests for evdi DRM module.
 		This option is useful for kernel developers.
diff -urN evdi-a/module/Makefile evdi-b/module/Makefile
--- evdi-a/module/Makefile	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/module/Makefile	2026-02-09 03:40:17.000000000 -0500
@@ -9,7 +9,7 @@
 include /etc/os-release
 
 ifneq (,$(findstring rhel,$(ID_LIKE)))
-ELFLAG := -DEL$(VERSION_ID)
+ELFLAG := -DEL$(shell echo $(VERSION_ID) | cut -d. -f1)
 endif
 
 Raspbian := $(shell grep -Eic 'raspb(erry|ian)' /proc/cpuinfo /etc/os-release 2>/dev/null )
@@ -59,7 +59,7 @@
 DKMS ?= dkms
 RM ?= rm
 
-MODVER=1.14.11
+MODVER=1.14.14
 
 ifeq ($(KVER),)
 	KVER := $(shell uname -r)
diff -urN evdi-a/README.md evdi-b/README.md
--- evdi-a/README.md	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/README.md	2026-02-09 03:40:17.000000000 -0500
@@ -22,7 +22,7 @@
 
 There is an community driven GitHub project at [DisplayLink RPM](https://github.com/displaylink-rpm/displaylink-rpm) which is generating RPM package for Fedora, CentOS Stream, Rocky Linux and AlmaLinux OS. It uses our code as the basis to create the RPM packages.
 
-There is also an [AUR package](https://aur.archlinux.org/packages/evdi) maintained by the community.
+There is also an [AUR package](https://aur.archlinux.org/packages/evdi-dkms) maintained by the community.
 
 ## Contributing
 
@@ -43,7 +43,7 @@
 ## Licensing
 
 Elements of this project are licensed under various licenses. In particular, the `module` and `library` are licensed
-under GPL v2 and LGPL v2.1 respectively - consult separate `LICENSE` files in subfolders. Remaining files and subfolders (unless
+under GPL v2 and LGPL v2.1-or-later respectively - consult separate `LICENSE` files in subfolders. Remaining files and subfolders (unless
 a separate `LICENSE` file states otherwise) are licensed under MIT license.
 
 
diff -urN evdi-a/.travis.yml evdi-b/.travis.yml
--- evdi-a/.travis.yml	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/.travis.yml	1969-12-31 19:00:00.000000000 -0500
@@ -1,49 +0,0 @@
-dist: xenial
-os: linux
-language: c
-cache: ccache
-
-env:
-  - KVER=4.19
-  - KVER=4.20
-  - KVER=5.0
-  - KVER=5.1
-  - KVER=5.2
-  - KVER=5.3
-  - KVER=5.4
-  - KVER=5.5
-  - KVER=5.6
-  - KVER=5.7
-  - KVER=5.8
-  - KVER=5.9
-  - KVER=5.11
-  - KVER=5.12
-  - KVER=5.13
-  - KVER=5.14
-  - KVER=5.15
-  - KVER=5.16
-  - KVER=5.17
-  - KVER=5.18
-  - KVER=5.19
-  - KVER=6.0
-  - KVER=master
-
-jobs:
-  allow_failures:
-    - env: KVER=master
-  include:
-    - env: StyleCheck
-      script: ./ci/run_style_check
-
-addons:
-  apt:
-    sources:
-      - ubuntu-toolchain-r-test
-    packages:
-      - bc
-      - g++-5
-      - libdrm-dev
-      - libelf-dev
-
-script:
-  - CC=gcc-5 ./ci/build_against_kernel ${KVER}
diff -urN evdi-a/.vscode/settings.json evdi-b/.vscode/settings.json
--- evdi-a/.vscode/settings.json	2025-08-26 04:31:36.000000000 -0400
+++ evdi-b/.vscode/settings.json	1969-12-31 19:00:00.000000000 -0500
@@ -1,13 +0,0 @@
-{
-  "[cpp]": {
-    "editor.formatOnType": false,
-    "editor.formatOnPaste": false,
-    "editor.formatOnSave": false
-  },
-  "[c]": {
-    "editor.formatOnType": false,
-    "editor.formatOnPaste": false,
-    "editor.formatOnSave": false
-  },
-  "C_Cpp.clang_format_style": "file",
-}
